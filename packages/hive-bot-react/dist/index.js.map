{"version":3,"sources":["../src/context/HiveBotContext.tsx","../src/components/BeeCharacter.tsx","../src/components/ChatHeader.tsx","../src/components/ThinkingDots.tsx","../src/components/SourcesList.tsx","../src/components/MessageBubble.tsx","../src/components/ChatMessages.tsx","../src/components/EmojiPopover.tsx","../src/components/ChatInput.tsx","../src/components/HiveBot.tsx","../src/components/ChatWidget.tsx"],"names":["createContext","useContext","useState","useCallback","jsx","useRef","useFrame","jsxs","React","Canvas","PerspectiveCamera","OrbitControls","ExternalLink","clsx","Bot","Fragment","ReactMarkdown","remarkGfm","User","forwardRef","useEffect","useLayoutEffect","X","Smile","createPortal","Paperclip","Send","MessageCircle"],"mappings":"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","file":"index.js","sourcesContent":["import React, { createContext, useContext, useState, useCallback, ReactNode } from 'react'\nimport type { HiveBotConfig, Message, ApiResponse } from '../types'\n\ninterface HiveBotContextValue {\n  config: Required<HiveBotConfig>\n  messages: Message[]\n  isLoading: boolean\n  sendMessage: (text: string, file?: File) => Promise<void>\n  clearMessages: () => void\n}\n\nconst defaultConfig: Required<HiveBotConfig> = {\n  apiEndpoint: '/api/rag/ask',\n  apiKey: '',\n  headers: {},\n  theme: {},\n  greeting: 'Hello! How can I help you today?',\n  placeholder: 'Type your message...',\n  enableEmoji: true,\n  enableFileUpload: true,\n  maxFileSize: 10 * 1024 * 1024, // 10MB\n  acceptedFileTypes: ['image/*'],\n  showSources: true,\n  enable3DCharacter: true,\n  botName: 'Hive Bot',\n  botDescription: 'AI Assistant',\n  onMessage: () => {},\n  onBotResponse: () => {},\n  onError: (error) => console.error('HiveBot Error:', error),\n  customMessageRenderer: undefined as any,\n  customHeader: undefined as any,\n  customInput: undefined as any,\n}\n\nconst HiveBotContext = createContext<HiveBotContextValue | null>(null)\n\nexport const useHiveBot = () => {\n  const context = useContext(HiveBotContext)\n  if (!context) {\n    throw new Error('useHiveBot must be used within HiveBotProvider')\n  }\n  return context\n}\n\ninterface HiveBotProviderProps {\n  children: ReactNode\n  config?: Partial<HiveBotConfig>\n  apiEndpoint: string\n  apiKey?: string\n  headers?: Record<string, string>\n  theme?: HiveBotConfig['theme']\n  greeting?: string\n  placeholder?: string\n  enableEmoji?: boolean\n  enableFileUpload?: boolean\n  maxFileSize?: number\n  acceptedFileTypes?: string[]\n  showSources?: boolean\n  enable3DCharacter?: boolean\n  botName?: string\n  botDescription?: string\n  onMessage?: HiveBotConfig['onMessage']\n  onBotResponse?: HiveBotConfig['onBotResponse']\n  onError?: HiveBotConfig['onError']\n  customMessageRenderer?: HiveBotConfig['customMessageRenderer']\n  customHeader?: HiveBotConfig['customHeader']\n  customInput?: HiveBotConfig['customInput']\n}\n\nexport const HiveBotProvider: React.FC<HiveBotProviderProps> = ({\n  children,\n  config: configProp,\n  apiEndpoint,\n  ...props\n}) => {\n  const config: Required<HiveBotConfig> = {\n    ...defaultConfig,\n    ...configProp,\n    apiEndpoint,\n    ...(props.apiKey !== undefined && { apiKey: props.apiKey }),\n    ...(props.headers !== undefined && { headers: props.headers }),\n    ...(props.theme !== undefined && { theme: props.theme }),\n    ...(props.greeting !== undefined && { greeting: props.greeting }),\n    ...(props.placeholder !== undefined && { placeholder: props.placeholder }),\n    ...(props.enableEmoji !== undefined && { enableEmoji: props.enableEmoji }),\n    ...(props.enableFileUpload !== undefined && { enableFileUpload: props.enableFileUpload }),\n    ...(props.maxFileSize !== undefined && { maxFileSize: props.maxFileSize }),\n    ...(props.acceptedFileTypes !== undefined && { acceptedFileTypes: props.acceptedFileTypes }),\n    ...(props.showSources !== undefined && { showSources: props.showSources }),\n    ...(props.enable3DCharacter !== undefined && { enable3DCharacter: props.enable3DCharacter }),\n    ...(props.botName !== undefined && { botName: props.botName }),\n    ...(props.botDescription !== undefined && { botDescription: props.botDescription }),\n    ...(props.onMessage !== undefined && { onMessage: props.onMessage }),\n    ...(props.onBotResponse !== undefined && { onBotResponse: props.onBotResponse }),\n    ...(props.onError !== undefined && { onError: props.onError }),\n    ...(props.customMessageRenderer !== undefined && { customMessageRenderer: props.customMessageRenderer }),\n    ...(props.customHeader !== undefined && { customHeader: props.customHeader }),\n    ...(props.customInput !== undefined && { customInput: props.customInput }),\n  }\n\n  const [messages, setMessages] = useState<Message[]>([\n    {\n      id: '1',\n      text: config.greeting,\n      sender: 'bot',\n      timestamp: new Date(),\n    },\n  ])\n  const [isLoading, setIsLoading] = useState(false)\n\n  const generateId = () => `${Date.now()}-${Math.random().toString(36).substring(2, 9)}`\n\n  const sendMessage = useCallback(\n    async (text: string, file?: File) => {\n      const userMessage: Message = {\n        id: generateId(),\n        text,\n        sender: 'user',\n        timestamp: new Date(),\n        ...(file && {\n          file: {\n            url: URL.createObjectURL(file),\n            type: file.type,\n            name: file.name,\n          },\n        }),\n      }\n\n      setMessages((prev) => [...prev, userMessage])\n      config.onMessage?.(userMessage)\n      setIsLoading(true)\n\n      try {\n        const formData = new FormData()\n        formData.append('message', text)\n        if (file) {\n          formData.append('file', file)\n        }\n\n        const headers: HeadersInit = {\n          ...config.headers,\n        }\n\n        if (config.apiKey) {\n          headers['Authorization'] = `Bearer ${config.apiKey}`\n        }\n\n        const response = await fetch(config.apiEndpoint, {\n          method: 'POST',\n          headers,\n          body: formData,\n        })\n\n        if (!response.ok) {\n          throw new Error(`API error: ${response.status} ${response.statusText}`)\n        }\n\n        const data: ApiResponse = await response.json()\n\n        const botMessage: Message = {\n          id: generateId(),\n          text: data.text,\n          sender: 'bot',\n          timestamp: new Date(),\n          sources: data.sources,\n        }\n\n        setMessages((prev) => [...prev, botMessage])\n        config.onBotResponse?.(botMessage)\n      } catch (error) {\n        const errorMessage: Message = {\n          id: generateId(),\n          text: 'Sorry, I encountered an error. Please try again.',\n          sender: 'bot',\n          timestamp: new Date(),\n        }\n        setMessages((prev) => [...prev, errorMessage])\n        config.onError?.(error as Error)\n      } finally {\n        setIsLoading(false)\n      }\n    },\n    [config]\n  )\n\n  const clearMessages = useCallback(() => {\n    setMessages([\n      {\n        id: '1',\n        text: config.greeting,\n        sender: 'bot',\n        timestamp: new Date(),\n      },\n    ])\n  }, [config.greeting])\n\n  return (\n    <HiveBotContext.Provider\n      value={{\n        config,\n        messages,\n        isLoading,\n        sendMessage,\n        clearMessages,\n      }}\n    >\n      {children}\n    </HiveBotContext.Provider>\n  )\n}\n","'use client'\n\nimport React, { useRef } from 'react'\nimport { Canvas, useFrame } from '@react-three/fiber'\nimport { OrbitControls, PerspectiveCamera } from '@react-three/drei'\nimport * as THREE from 'three'\n\nfunction Bee() {\n  const beeRef = useRef<THREE.Group>(null)\n  const leftWingRef = useRef<THREE.Mesh>(null)\n  const rightWingRef = useRef<THREE.Mesh>(null)\n\n  useFrame((state) => {\n    if (!beeRef.current) return\n\n    const time = state.clock.getElapsedTime()\n    beeRef.current.position.y = Math.sin(time * 2) * 0.1\n    beeRef.current.rotation.y = Math.sin(time * 0.5) * 0.1\n\n    if (leftWingRef.current && rightWingRef.current) {\n      const wingFlap = Math.sin(time * 20) * 0.3\n      leftWingRef.current.rotation.y = -Math.PI / 4 + wingFlap\n      rightWingRef.current.rotation.y = Math.PI / 4 - wingFlap\n    }\n  })\n\n  const yellowColor = '#FFD700'\n  const blackColor = '#1a1a1a'\n  const wingColor = '#E0F4FF'\n  const eyeColor = '#000000'\n\n  return (\n    <group ref={beeRef} position={[0, 0, 0]}>\n      <mesh position={[0, 0.5, 0.6]} castShadow>\n        <sphereGeometry args={[0.35, 32, 32]} />\n        <meshStandardMaterial color={blackColor} roughness={0.4} metalness={0.1} />\n      </mesh>\n      <mesh position={[-0.2, 0.55, 0.75]} castShadow>\n        <sphereGeometry args={[0.15, 16, 16]} />\n        <meshStandardMaterial color={eyeColor} roughness={0.2} metalness={0.8} />\n      </mesh>\n      <mesh position={[0.2, 0.55, 0.75]} castShadow>\n        <sphereGeometry args={[0.15, 16, 16]} />\n        <meshStandardMaterial color={eyeColor} roughness={0.2} metalness={0.8} />\n      </mesh>\n      <mesh position={[-0.25, 0.6, 0.85]}>\n        <sphereGeometry args={[0.05, 8, 8]} />\n        <meshBasicMaterial color=\"#ffffff\" />\n      </mesh>\n      <mesh position={[0.25, 0.6, 0.85]}>\n        <sphereGeometry args={[0.05, 8, 8]} />\n        <meshBasicMaterial color=\"#ffffff\" />\n      </mesh>\n      <group position={[-0.15, 0.75, 0.6]}>\n        <mesh position={[0, 0.15, 0]} rotation={[0.3, -0.2, 0]} castShadow>\n          <cylinderGeometry args={[0.02, 0.02, 0.3, 8]} />\n          <meshStandardMaterial color={blackColor} />\n        </mesh>\n        <mesh position={[0, 0.35, 0.05]}>\n          <sphereGeometry args={[0.04, 8, 8]} />\n          <meshStandardMaterial color={blackColor} />\n        </mesh>\n      </group>\n      <group position={[0.15, 0.75, 0.6]}>\n        <mesh position={[0, 0.15, 0]} rotation={[0.3, 0.2, 0]} castShadow>\n          <cylinderGeometry args={[0.02, 0.02, 0.3, 8]} />\n          <meshStandardMaterial color={blackColor} />\n        </mesh>\n        <mesh position={[0, 0.35, 0.05]}>\n          <sphereGeometry args={[0.04, 8, 8]} />\n          <meshStandardMaterial color={blackColor} />\n        </mesh>\n      </group>\n      <mesh position={[0, 0.3, 0]} castShadow>\n        <sphereGeometry args={[0.4, 32, 32]} />\n        <meshStandardMaterial color={blackColor} roughness={0.9} />\n      </mesh>\n      <mesh position={[0, 0.15, -0.35]} castShadow>\n        <sphereGeometry args={[0.35, 32, 32, 0, Math.PI * 2, 0, Math.PI]} />\n        <meshStandardMaterial color={yellowColor} roughness={0.6} />\n      </mesh>\n      <mesh position={[0, 0.1, -0.6]} castShadow>\n        <sphereGeometry args={[0.32, 32, 32, 0, Math.PI * 2, 0, Math.PI]} />\n        <meshStandardMaterial color={blackColor} roughness={0.6} />\n      </mesh>\n      <mesh position={[0, 0.05, -0.8]} castShadow>\n        <sphereGeometry args={[0.28, 32, 32, 0, Math.PI * 2, 0, Math.PI]} />\n        <meshStandardMaterial color={yellowColor} roughness={0.6} />\n      </mesh>\n      <mesh position={[0, 0, -1.05]} rotation={[Math.PI / 2, 0, 0]} castShadow>\n        <coneGeometry args={[0.08, 0.25, 8]} />\n        <meshStandardMaterial color=\"#2a2a2a\" metalness={0.3} />\n      </mesh>\n      <mesh\n        ref={leftWingRef}\n        position={[-0.35, 0.4, -0.1]}\n        rotation={[0.2, -Math.PI / 4, 0.1]}\n        castShadow\n      >\n        <boxGeometry args={[0.8, 0.02, 0.5]} />\n        <meshPhysicalMaterial\n          color={wingColor}\n          transparent\n          opacity={0.3}\n          roughness={0.1}\n          metalness={0.1}\n          clearcoat={1}\n        />\n      </mesh>\n      <mesh\n        ref={rightWingRef}\n        position={[0.35, 0.4, -0.1]}\n        rotation={[0.2, Math.PI / 4, -0.1]}\n        castShadow\n      >\n        <boxGeometry args={[0.8, 0.02, 0.5]} />\n        <meshPhysicalMaterial\n          color={wingColor}\n          transparent\n          opacity={0.3}\n          roughness={0.1}\n          metalness={0.1}\n          clearcoat={1}\n        />\n      </mesh>\n      {['front', 'middle', 'back'].map((type, idx) => {\n        const positions = [\n          [0.3, 0.2, 0.3],\n          [0.35, 0.15, -0.1],\n          [0.35, 0.1, -0.4],\n        ]\n        const rotations = [0.5, 0.7, 0.8]\n        const heights = [0.3, 0.35, 0.35]\n        return (\n          <React.Fragment key={type}>\n            <group position={[-positions[idx][0], positions[idx][1], positions[idx][2]]}>\n              <mesh position={[0, -0.15 - idx * 0.05, 0]} rotation={[0, 0, rotations[idx]]} castShadow>\n                <cylinderGeometry args={[0.03, 0.03, heights[idx], 8]} />\n                <meshStandardMaterial color={blackColor} />\n              </mesh>\n              <mesh\n                position={[0, -0.3 - idx * 0.1, 0.1 + idx * 0.05]}\n                rotation={[0.5 + idx * 0.1, 0, rotations[idx]]}\n                castShadow\n              >\n                <cylinderGeometry args={[0.025, 0.025, 0.25 + idx * 0.025, 8]} />\n                <meshStandardMaterial color={blackColor} />\n              </mesh>\n            </group>\n            <group position={[positions[idx][0], positions[idx][1], positions[idx][2]]}>\n              <mesh position={[0, -0.15 - idx * 0.05, 0]} rotation={[0, 0, -rotations[idx]]} castShadow>\n                <cylinderGeometry args={[0.03, 0.03, heights[idx], 8]} />\n                <meshStandardMaterial color={blackColor} />\n              </mesh>\n              <mesh\n                position={[0, -0.3 - idx * 0.1, 0.1 + idx * 0.05]}\n                rotation={[0.5 + idx * 0.1, 0, -rotations[idx]]}\n                castShadow\n              >\n                <cylinderGeometry args={[0.025, 0.025, 0.25 + idx * 0.025, 8]} />\n                <meshStandardMaterial color={blackColor} />\n              </mesh>\n            </group>\n          </React.Fragment>\n        )\n      })}\n    </group>\n  )\n}\n\nexport function BeeCharacter({ className = '' }: { className?: string }) {\n  return (\n    <div className={className} style={{ width: '100%', height: '100%' }}>\n      <Canvas shadows style={{ width: '100%', height: '100%' }}>\n        <PerspectiveCamera makeDefault position={[0, 1, 4]} fov={50} />\n        <ambientLight intensity={0.6} />\n        <directionalLight position={[5, 5, 5]} intensity={1} castShadow shadow-mapSize={[1024, 1024]} />\n        <pointLight position={[-5, 5, 5]} intensity={0.5} />\n        <spotLight position={[0, 5, 0]} angle={0.3} penumbra={1} intensity={0.5} castShadow />\n        <Bee />\n        <OrbitControls\n          enableZoom={false}\n          enablePan={false}\n          autoRotate\n          autoRotateSpeed={1}\n          minPolarAngle={Math.PI / 3}\n          maxPolarAngle={Math.PI / 2}\n        />\n      </Canvas>\n    </div>\n  )\n}\n","import { useHiveBot } from '../context/HiveBotContext'\nimport { BeeCharacter } from './BeeCharacter'\n\nexport function ChatHeader() {\n  const { config } = useHiveBot()\n\n  return (\n    <div\n      className=\"hivebot-header\"\n      style={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        background: config.theme?.headerGradient || 'linear-gradient(to right, #6366f1, #9333ea)',\n        color: 'white',\n        padding: '1rem',\n        boxShadow: '0 4px 6px -1px rgba(0,0,0,0.1)',\n      }}\n    >\n      <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\n        {config.enable3DCharacter && (\n          <div\n            style={{\n              position: 'relative',\n              width: '80px',\n              height: '80px',\n              borderRadius: '50%',\n              backgroundColor: 'rgba(255,255,255,0.1)',\n              backdropFilter: 'blur(4px)',\n              overflow: 'hidden',\n            }}\n          >\n            <BeeCharacter />\n          </div>\n        )}\n        <div>\n          <div style={{ fontWeight: 700, fontSize: '1.125rem' }}>{config.botName}</div>\n          <div style={{ fontSize: '0.75rem', opacity: 0.9 }}>{config.botDescription}</div>\n        </div>\n      </div>\n      <div\n        style={{\n          fontSize: '0.75rem',\n          opacity: 0.8,\n          backgroundColor: 'rgba(255,255,255,0.1)',\n          padding: '0.25rem 0.75rem',\n          borderRadius: '9999px',\n          backdropFilter: 'blur(4px)',\n        }}\n      >\n        Live Assistance\n      </div>\n    </div>\n  )\n}\n","export function ThinkingDots() {\n  return (\n    <div style={{ display: 'flex', alignItems: 'center', gap: '0.25rem' }}>\n      {[0, 1, 2].map((i) => (\n        <div\n          key={i}\n          style={{\n            width: '8px',\n            height: '8px',\n            borderRadius: '50%',\n            backgroundColor: 'currentColor',\n            opacity: 0.6,\n            animation: 'pulse 1.4s ease-in-out infinite',\n            animationDelay: `${i * 0.2}s`,\n          }}\n        />\n      ))}\n      <span style={{ marginLeft: '0.5rem', fontSize: '0.875rem' }}>Thinking...</span>\n    </div>\n  )\n}\n","import { ExternalLink } from 'lucide-react'\nimport type { Source } from '../types'\n\ninterface SourcesListProps {\n  sources: Source[]\n}\n\nexport function SourcesList({ sources }: SourcesListProps) {\n  if (!sources || sources.length === 0) {\n    return null\n  }\n\n  const getDomainName = (url: string): string => {\n    try {\n      const urlObj = new URL(url)\n      return urlObj.hostname.replace('www.', '')\n    } catch {\n      return url\n    }\n  }\n\n  const truncateUrl = (url: string, maxLength = 50): string => {\n    if (url.length <= maxLength) return url\n    return url.substring(0, maxLength - 3) + '...'\n  }\n\n  return (\n    <div\n      className=\"hivebot-sources\"\n      style={{\n        marginTop: '0.75rem',\n        borderTop: '1px solid rgba(0,0,0,0.1)',\n        paddingTop: '0.75rem',\n      }}\n    >\n      <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '0.5rem' }}>\n        <ExternalLink size={16} style={{ color: 'var(--hivebot-primary, #6366f1)' }} />\n        <span\n          style={{\n            fontSize: '0.75rem',\n            fontWeight: 600,\n            textTransform: 'uppercase',\n            letterSpacing: '0.05em',\n            opacity: 0.8,\n          }}\n        >\n          Sources\n        </span>\n      </div>\n      <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n        {sources.map((source, idx) => (\n          <a\n            key={idx}\n            href={source.url}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"hivebot-source-link\"\n            style={{\n              display: 'flex',\n              alignItems: 'start',\n              gap: '0.5rem',\n              textDecoration: 'none',\n              color: 'inherit',\n            }}\n          >\n            <span\n              style={{\n                flexShrink: 0,\n                width: '20px',\n                height: '20px',\n                borderRadius: '50%',\n                backgroundColor: 'rgba(99, 102, 241, 0.1)',\n                color: 'var(--hivebot-primary, #6366f1)',\n                fontSize: '0.75rem',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontWeight: 500,\n                marginTop: '2px',\n              }}\n            >\n              {idx + 1}\n            </span>\n            <div style={{ flex: 1, minWidth: 0 }}>\n              <div\n                style={{\n                  fontSize: '0.875rem',\n                  color: 'var(--hivebot-primary, #6366f1)',\n                  wordBreak: 'break-all',\n                }}\n              >\n                {source.title || getDomainName(source.url)}\n              </div>\n              <div\n                style={{\n                  fontSize: '0.75rem',\n                  opacity: 0.6,\n                  overflow: 'hidden',\n                  textOverflow: 'ellipsis',\n                  whiteSpace: 'nowrap',\n                }}\n                title={source.url}\n              >\n                {truncateUrl(source.url)}\n              </div>\n            </div>\n            <ExternalLink size={14} style={{ flexShrink: 0, marginTop: '4px', opacity: 0.4 }} />\n          </a>\n        ))}\n      </div>\n    </div>\n  )\n}\n","import { Bot, User } from 'lucide-react'\nimport ReactMarkdown from 'react-markdown'\nimport remarkGfm from 'remark-gfm'\nimport clsx from 'clsx'\nimport type { Message } from '../types'\nimport { ThinkingDots } from './ThinkingDots'\nimport { SourcesList } from './SourcesList'\n\ninterface MessageBubbleProps {\n  message: Message\n  isThinking?: boolean\n}\n\nexport function MessageBubble({ message, isThinking = false }: MessageBubbleProps) {\n  const isUser = message.sender === 'user'\n  const showThinking = isThinking && !message.text\n\n  return (\n    <div\n      className={clsx('hivebot-message', isUser ? 'hivebot-message-user' : 'hivebot-message-bot')}\n      style={{\n        display: 'flex',\n        gap: '0.75rem',\n        justifyContent: isUser ? 'flex-end' : 'flex-start',\n      }}\n    >\n      {!isUser && (\n        <div\n          className=\"hivebot-avatar hivebot-avatar-bot\"\n          style={{\n            flexShrink: 0,\n            width: '32px',\n            height: '32px',\n            borderRadius: '50%',\n            background: 'linear-gradient(to bottom right, #6366f1, #9333ea)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n          }}\n        >\n          <Bot size={16} color=\"white\" />\n        </div>\n      )}\n\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '0.25rem',\n          maxWidth: '75%',\n          alignItems: isUser ? 'flex-end' : 'flex-start',\n        }}\n      >\n        {message.file?.url && (\n          <div\n            className=\"hivebot-message-image\"\n            style={{\n              position: 'relative',\n              width: '256px',\n              aspectRatio: '16/9',\n              borderRadius: '1rem',\n              overflow: 'hidden',\n              border: '1px solid rgba(0,0,0,0.1)',\n              boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n            }}\n          >\n            <img\n              src={message.file.url}\n              alt=\"attachment\"\n              style={{\n                width: '100%',\n                height: '100%',\n                objectFit: 'cover',\n              }}\n            />\n          </div>\n        )}\n\n        {(message.text || showThinking) && (\n          <div\n            className={clsx('hivebot-bubble', isUser ? 'hivebot-bubble-user' : 'hivebot-bubble-bot')}\n            style={{\n              padding: '0.75rem 1rem',\n              borderRadius: '1rem',\n              boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n              maxWidth: '100%',\n              whiteSpace: 'pre-wrap',\n              wordBreak: 'break-word',\n              ...(isUser\n                ? {\n                    backgroundColor: 'var(--hivebot-user-bg, #6366f1)',\n                    color: 'white',\n                    borderBottomRightRadius: '0.25rem',\n                  }\n                : {\n                    backgroundColor: 'var(--hivebot-bot-bg, white)',\n                    color: 'var(--hivebot-text, #1f2937)',\n                    border: '1px solid rgba(0,0,0,0.1)',\n                    borderBottomLeftRadius: '0.25rem',\n                  }),\n            }}\n          >\n            {showThinking ? (\n              <div style={{ color: 'var(--hivebot-text-muted, #6b7280)' }}>\n                <ThinkingDots />\n              </div>\n            ) : (\n              <>\n                <div className=\"hivebot-message-content\" style={{ fontSize: '0.9375rem', lineHeight: 1.6 }}>\n                  {isUser ? (\n                    message.text\n                  ) : (\n                    <ReactMarkdown remarkPlugins={[remarkGfm]}>{message.text || ''}</ReactMarkdown>\n                  )}\n                </div>\n                {message.sources && message.sources.length > 0 && <SourcesList sources={message.sources} />}\n              </>\n            )}\n          </div>\n        )}\n      </div>\n\n      {isUser && (\n        <div\n          className=\"hivebot-avatar hivebot-avatar-user\"\n          style={{\n            flexShrink: 0,\n            width: '32px',\n            height: '32px',\n            borderRadius: '50%',\n            backgroundColor: '#374151',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n          }}\n        >\n          <User size={16} color=\"white\" />\n        </div>\n      )}\n    </div>\n  )\n}\n","import { forwardRef } from 'react'\nimport type { Message } from '../types'\nimport { MessageBubble } from './MessageBubble'\n\ninterface ChatMessagesProps {\n  messages: Message[]\n  isLoading: boolean\n}\n\nexport const ChatMessages = forwardRef<HTMLDivElement, ChatMessagesProps>(\n  ({ messages, isLoading }, ref) => {\n    return (\n      <div\n        ref={ref}\n        className=\"hivebot-messages\"\n        style={{\n          flex: 1,\n          overflowY: 'auto',\n          overflowX: 'hidden',\n          padding: '1rem',\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '1rem',\n          backgroundColor: 'var(--hivebot-bg, #f9fafb)',\n          overscrollBehavior: 'contain',\n          WebkitOverflowScrolling: 'touch',\n        }}\n      >\n        {messages.map((message) => (\n          <MessageBubble key={message.id} message={message} />\n        ))}\n        {isLoading && (\n          <MessageBubble\n            message={{\n              id: 'thinking',\n              text: '',\n              sender: 'bot',\n              timestamp: new Date(),\n            }}\n            isThinking\n          />\n        )}\n      </div>\n    )\n  }\n)\n\nChatMessages.displayName = 'ChatMessages'\n","'use client'\n\nimport { useEffect, useRef } from 'react'\n\ninterface EmojiPopoverProps {\n  onSelect: (emoji: string) => void\n  className?: string\n}\n\nexport function EmojiPopover({ onSelect, className = '' }: EmojiPopoverProps) {\n  const ref = useRef<HTMLElement>(null)\n\n  useEffect(() => {\n    import('emoji-picker-element')\n  }, [])\n\n  useEffect(() => {\n    const picker = ref.current\n    if (!picker) return\n\n    picker.style.display = 'block'\n    picker.style.width = '100%'\n\n    const handler = (e: Event) => {\n      const custom = e as CustomEvent<{ unicode?: string }>\n      onSelect(custom?.detail?.unicode ?? '')\n    }\n    picker.addEventListener('emoji-click', handler)\n    return () => picker.removeEventListener('emoji-click', handler)\n  }, [onSelect])\n\n  return (\n    <div className={`hivebot-emoji-popover ${className}`}>\n      {/* @ts-expect-error: custom web component */}\n      <emoji-picker ref={ref} class=\"responsive-emoji-picker\"></emoji-picker>\n    </div>\n  )\n}\n","'use client'\n\nimport { useState, useRef, useLayoutEffect } from 'react'\nimport { createPortal } from 'react-dom'\nimport { Paperclip, Send, Smile, X } from 'lucide-react'\nimport clsx from 'clsx'\nimport { useHiveBot } from '../context/HiveBotContext'\nimport { EmojiPopover } from './EmojiPopover'\n\nexport function ChatInput() {\n  const { config, isLoading, sendMessage } = useHiveBot()\n  const [input, setInput] = useState('')\n  const [emojiOpen, setEmojiOpen] = useState(false)\n  const [pendingFile, setPendingFile] = useState<File | null>(null)\n  const [filePreview, setFilePreview] = useState<string | null>(null)\n  const textareaRef = useRef<HTMLTextAreaElement>(null)\n  const fileInputRef = useRef<HTMLInputElement>(null)\n  const emojiBtnRef = useRef<HTMLButtonElement>(null)\n  const [emojiPos, setEmojiPos] = useState<{ left: number; top: number } | null>(null)\n\n  useLayoutEffect(() => {\n    if (!emojiOpen || !emojiBtnRef.current) return\n    const r = emojiBtnRef.current.getBoundingClientRect()\n    const GAP = 12\n    const PICKER_W = 360\n    const PICKER_H = 420\n    const left = Math.max(8, Math.min(r.right - PICKER_W, window.innerWidth - 8 - PICKER_W))\n    const top = Math.max(8, r.top - GAP - PICKER_H)\n    setEmojiPos({ left, top })\n  }, [emojiOpen])\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (!file) return\n\n    if (file.size > config.maxFileSize) {\n      alert(`File size must be less than ${Math.round(config.maxFileSize / 1024 / 1024)}MB`)\n      return\n    }\n\n    setPendingFile(file)\n    setFilePreview(URL.createObjectURL(file))\n    e.target.value = ''\n  }\n\n  const removeFile = () => {\n    if (filePreview) URL.revokeObjectURL(filePreview)\n    setPendingFile(null)\n    setFilePreview(null)\n  }\n\n  const handleSend = async () => {\n    if (!input.trim() && !pendingFile) return\n    if (isLoading) return\n\n    const message = input.trim()\n    const file = pendingFile\n\n    setInput('')\n    removeFile()\n\n    await sendMessage(message, file || undefined)\n  }\n\n  const insertEmojiAtCaret = (emoji: string) => {\n    const el = textareaRef.current\n    if (!el) {\n      setInput(input + emoji)\n      return\n    }\n    const start = el.selectionStart ?? el.value.length\n    const end = el.selectionEnd ?? el.value.length\n    const next = input.slice(0, start) + emoji + input.slice(end)\n    setInput(next)\n    requestAnimationFrame(() => {\n      el.focus()\n      const caret = start + emoji.length\n      el.setSelectionRange(caret, caret)\n    })\n  }\n\n  const onKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault()\n      handleSend()\n    }\n  }\n\n  const canSend = (input.trim() || pendingFile) && !isLoading\n\n  if (config.customInput) {\n    const CustomInput = config.customInput\n    return <CustomInput onSend={sendMessage} disabled={isLoading} />\n  }\n\n  return (\n    <div\n      className=\"hivebot-input-container\"\n      style={{\n        borderTop: '1px solid rgba(0,0,0,0.1)',\n        backgroundColor: 'white',\n        padding: '1rem',\n      }}\n    >\n      {/* File preview */}\n      {pendingFile && filePreview && (\n        <div\n          style={{\n            marginBottom: '0.75rem',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.75rem',\n            padding: '0.75rem',\n            backgroundColor: '#f9fafb',\n            borderRadius: '0.75rem',\n            border: '1px solid rgba(0,0,0,0.1)',\n          }}\n        >\n          <div\n            style={{\n              position: 'relative',\n              width: '48px',\n              height: '48px',\n              borderRadius: '0.5rem',\n              overflow: 'hidden',\n              border: '1px solid rgba(0,0,0,0.1)',\n            }}\n          >\n            <img src={filePreview} alt=\"preview\" style={{ width: '100%', height: '100%', objectFit: 'cover' }} />\n          </div>\n          <div style={{ flex: 1, fontSize: '0.875rem' }}>\n            <div style={{ fontWeight: 500 }}>Image attached</div>\n            <div style={{ fontSize: '0.75rem', color: '#6b7280' }}>Ready to send</div>\n          </div>\n          <button\n            onClick={removeFile}\n            style={{\n              padding: '0.25rem',\n              color: '#6b7280',\n              background: 'none',\n              border: 'none',\n              borderRadius: '50%',\n              cursor: 'pointer',\n            }}\n            title=\"Remove\"\n          >\n            <X size={16} />\n          </button>\n        </div>\n      )}\n\n      {/* Input area */}\n      <div\n        style={{\n          position: 'relative',\n          backgroundColor: '#f9fafb',\n          borderRadius: '1rem',\n          border: '1px solid rgba(0,0,0,0.1)',\n        }}\n      >\n        <div style={{ display: 'flex', alignItems: 'end', gap: '0.5rem', padding: '0.75rem' }}>\n          <div style={{ flex: 1, minWidth: 0 }}>\n            <textarea\n              ref={textareaRef}\n              className=\"hivebot-textarea\"\n              placeholder={config.placeholder}\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              onKeyDown={onKeyDown}\n              rows={1}\n              style={{\n                width: '100%',\n                resize: 'none',\n                outline: 'none',\n                background: 'transparent',\n                border: 'none',\n                fontSize: '1rem',\n                lineHeight: 1.5,\n                minHeight: '24px',\n                maxHeight: '120px',\n              }}\n            />\n          </div>\n\n          <div style={{ display: 'flex', alignItems: 'center', gap: '0.25rem', flexShrink: 0 }}>\n            {config.enableEmoji && (\n              <div style={{ position: 'relative' }}>\n                <button\n                  ref={emojiBtnRef}\n                  type=\"button\"\n                  onClick={() => setEmojiOpen((v) => !v)}\n                  className={clsx('hivebot-btn hivebot-btn-icon', emojiOpen && 'active')}\n                  style={{\n                    padding: '0.5rem',\n                    borderRadius: '50%',\n                    border: 'none',\n                    background: emojiOpen ? 'rgba(99,102,241,0.1)' : 'transparent',\n                    color: emojiOpen ? '#6366f1' : '#6b7280',\n                    cursor: 'pointer',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                  }}\n                  title=\"Add emoji\"\n                >\n                  <Smile size={18} />\n                </button>\n\n                {emojiOpen && emojiPos && typeof document !== 'undefined' &&\n                  createPortal(\n                    <div\n                      className=\"hidden sm:block\"\n                      style={{ position: 'fixed', zIndex: 50, left: emojiPos.left, top: emojiPos.top }}\n                    >\n                      <EmojiPopover\n                        onSelect={(emoji) => {\n                          insertEmojiAtCaret(emoji)\n                          setEmojiOpen(false)\n                        }}\n                      />\n                    </div>,\n                    document.body\n                  )}\n\n                {emojiOpen && (\n                  <div\n                    className=\"sm:hidden\"\n                    style={{\n                      position: 'fixed',\n                      left: '1rem',\n                      right: '1rem',\n                      bottom: '8rem',\n                      zIndex: 50,\n                      borderRadius: '0.75rem',\n                      overflow: 'hidden',\n                      boxShadow: '0 20px 25px -5px rgba(0,0,0,0.1)',\n                      maxHeight: '65vh',\n                    }}\n                  >\n                    <EmojiPopover\n                      onSelect={(emoji) => {\n                        insertEmojiAtCaret(emoji)\n                        setEmojiOpen(false)\n                      }}\n                    />\n                  </div>\n                )}\n              </div>\n            )}\n\n            {config.enableFileUpload && (\n              <button\n                type=\"button\"\n                onClick={() => fileInputRef.current?.click()}\n                className=\"hivebot-btn hivebot-btn-icon\"\n                style={{\n                  padding: '0.5rem',\n                  borderRadius: '50%',\n                  border: 'none',\n                  background: pendingFile ? 'rgba(99,102,241,0.1)' : 'transparent',\n                  color: pendingFile ? '#6366f1' : '#6b7280',\n                  cursor: 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                }}\n                title=\"Attach file\"\n              >\n                <Paperclip size={18} />\n              </button>\n            )}\n\n            <button\n              onClick={handleSend}\n              disabled={!canSend}\n              className=\"hivebot-btn hivebot-btn-send\"\n              style={{\n                padding: '0.5rem',\n                borderRadius: '50%',\n                border: 'none',\n                background: canSend ? 'var(--hivebot-primary, #6366f1)' : '#d1d5db',\n                color: 'white',\n                cursor: canSend ? 'pointer' : 'not-allowed',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                boxShadow: canSend ? '0 4px 6px -1px rgba(0,0,0,0.1)' : 'none',\n              }}\n              title=\"Send message\"\n            >\n              {isLoading ? (\n                <div style={{ animation: 'spin 1s linear infinite' }}>\n                  <div\n                    style={{\n                      width: '16px',\n                      height: '16px',\n                      border: '2px solid currentColor',\n                      borderTopColor: 'transparent',\n                      borderRadius: '50%',\n                    }}\n                  />\n                </div>\n              ) : (\n                <Send size={18} />\n              )}\n            </button>\n          </div>\n        </div>\n\n        <div\n          style={{\n            padding: '0 0.75rem 0.5rem',\n            fontSize: '0.75rem',\n            color: '#6b7280',\n          }}\n        >\n          <span className=\"hidden sm:inline\">Press Enter to send  Shift+Enter for new line</span>\n          <span className=\"sm:hidden\">Tap send button or use Enter to send</span>\n        </div>\n      </div>\n\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        accept={config.acceptedFileTypes.join(',')}\n        hidden\n        onChange={handleFileChange}\n      />\n    </div>\n  )\n}\n","import { useEffect, useRef } from 'react'\nimport { useHiveBot } from '../context/HiveBotContext'\nimport { ChatHeader } from './ChatHeader'\nimport { ChatMessages } from './ChatMessages'\nimport { ChatInput } from './ChatInput'\n\nexport function HiveBot({ className = '', style = {} }: { className?: string; style?: React.CSSProperties }) {\n  const { messages, isLoading, config } = useHiveBot()\n  const messagesEndRef = useRef<HTMLDivElement>(null)\n\n  // Auto-scroll to bottom when new messages arrive\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' })\n  }, [messages])\n\n  return (\n    <div\n      className={`hivebot ${className}`}\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        height: '100%',\n        maxHeight: '100%',\n        backgroundColor: 'white',\n        borderRadius: config.theme?.borderRadius || '1rem',\n        overflow: 'hidden',\n        boxShadow: '0 10px 15px -3px rgba(0,0,0,0.1)',\n        fontFamily: config.theme?.fontFamily || 'system-ui, -apple-system, sans-serif',\n        ...style,\n      }}\n    >\n      {config.customHeader ? <config.customHeader /> : <ChatHeader />}\n      <ChatMessages messages={messages} isLoading={isLoading} ref={messagesEndRef} />\n      <ChatInput />\n    </div>\n  )\n}\n","'use client'\n\nimport { useState } from 'react'\nimport { MessageCircle, X } from 'lucide-react'\nimport type { ChatWidgetProps } from '../types'\nimport { HiveBot } from './HiveBot'\n\nexport function ChatWidget({\n  position = 'bottom-right',\n  zIndex = 1000,\n  className = '',\n  defaultOpen = false,\n  isOpen: controlledOpen,\n  onOpenChange,\n}: ChatWidgetProps) {\n  const [internalOpen, setInternalOpen] = useState(defaultOpen)\n  const isControlled = controlledOpen !== undefined\n  const isOpen = isControlled ? controlledOpen : internalOpen\n\n  const toggleOpen = () => {\n    const newValue = !isOpen\n    if (!isControlled) {\n      setInternalOpen(newValue)\n    }\n    onOpenChange?.(newValue)\n  }\n\n  const positionStyles: Record<string, React.CSSProperties> = {\n    'bottom-right': { bottom: '1.5rem', right: '1.5rem' },\n    'bottom-left': { bottom: '1.5rem', left: '1.5rem' },\n    'top-right': { top: '1.5rem', right: '1.5rem' },\n    'top-left': { top: '1.5rem', left: '1.5rem' },\n  }\n\n  return (\n    <>\n      {/* Chat Container */}\n      {isOpen && (\n        <div\n          className={`hivebot-widget ${className}`}\n          style={{\n            position: 'fixed',\n            ...positionStyles[position],\n            zIndex,\n            width: '400px',\n            height: '600px',\n            maxWidth: 'calc(100vw - 2rem)',\n            maxHeight: 'calc(100vh - 2rem)',\n          }}\n        >\n          <HiveBot />\n        </div>\n      )}\n\n      {/* Toggle Button */}\n      <button\n        onClick={toggleOpen}\n        className=\"hivebot-toggle\"\n        style={{\n          position: 'fixed',\n          ...positionStyles[position],\n          zIndex: zIndex + 1,\n          width: '56px',\n          height: '56px',\n          borderRadius: '50%',\n          background: 'linear-gradient(to bottom right, #6366f1, #9333ea)',\n          color: 'white',\n          border: 'none',\n          cursor: 'pointer',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          boxShadow: '0 10px 15px -3px rgba(0,0,0,0.2)',\n          transition: 'transform 0.2s, box-shadow 0.2s',\n        }}\n        onMouseEnter={(e) => {\n          e.currentTarget.style.transform = 'scale(1.1)'\n          e.currentTarget.style.boxShadow = '0 20px 25px -5px rgba(0,0,0,0.2)'\n        }}\n        onMouseLeave={(e) => {\n          e.currentTarget.style.transform = 'scale(1)'\n          e.currentTarget.style.boxShadow = '0 10px 15px -3px rgba(0,0,0,0.2)'\n        }}\n        aria-label={isOpen ? 'Close chat' : 'Open chat'}\n      >\n        {isOpen ? <X size={24} /> : <MessageCircle size={24} />}\n      </button>\n    </>\n  )\n}\n"]}